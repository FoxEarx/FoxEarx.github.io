(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1e1d0c3d"],{"826e":function(e,t,a){},"9b75":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("mainSearch",{attrs:{firstInput:"型号搜索："},on:{search:e.search}}),a("div",{staticClass:"Main"},[a("Add",{attrs:{type:e.layerHeader,dialogVisible1:e.dialogVisible1},on:{addEquipment:e.addEquipment,closeAdd:e.closeAdd,tureaddEquipment:e.tureaddEquipment}},[a("el-form",{ref:"formAdd",attrs:{model:e.formAdd,rules:e.rulesADD,"label-width":"100px"}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"型号名称：",prop:"name"}},[a("el-input",{attrs:{size:"medium",maxlength:"10",type:"text","show-word-limit":"",placeholder:"请输入"},model:{value:e.formAdd.name,callback:function(t){e.$set(e.formAdd,"name",t)},expression:"formAdd.name"}})],1),a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"型号编码：",prop:"model"}},[a("el-input",{attrs:{size:"medium",maxlength:"15",type:"text","show-word-limit":"",placeholder:"请输入（限数字、字母、下划线、中划线）"},model:{value:e.formAdd.model,callback:function(t){e.$set(e.formAdd,"model",t)},expression:"formAdd.model"}})],1),a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"货道行数：",prop:"vmRow"}},[a("el-input",{attrs:{size:"medium",type:"number",placeholder:"请输入"},model:{value:e.formAdd.vmRow,callback:function(t){e.$set(e.formAdd,"vmRow",t)},expression:"formAdd.vmRow"}})],1),a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"货道列数：",prop:"vmCol"}},[a("el-input",{attrs:{size:"medium",type:"number",placeholder:"请输入"},model:{value:e.formAdd.vmCol,callback:function(t){e.$set(e.formAdd,"vmCol",t)},expression:"formAdd.vmCol"}})],1),a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"货道容量：",prop:"channelMaxCapacity"}},[a("el-input",{attrs:{size:"medium",type:"number",placeholder:"请输入"},model:{value:e.formAdd.channelMaxCapacity,callback:function(t){e.$set(e.formAdd,"channelMaxCapacity",t)},expression:"formAdd.channelMaxCapacity"}})],1),a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"设备图片：",prop:"imageUrl"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.formAdd.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.formAdd.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),a("span",[e._v("支持扩展名：jpeg，文件不得大于2M")])],1)],1)],1),a("List",{attrs:{tableData:e.tableData,table:e.table,width:"230px"},on:{clickList:e.clickList},scopedSlots:e._u([{key:"operation",fn:function(){return[a("el-button",{attrs:{type:"text"},on:{click:e.ModifyEquipment}},[e._v("修改")]),a("el-button",{staticStyle:{color:"#ff5a7f"},attrs:{type:"text"},on:{click:e.open}},[e._v("删除")])]},proxy:!0}])}),a("Paging",{attrs:{total:e.total},on:{nextClick:e.nextClick,prevClick:e.prevClick,changeCount:e.changeCount}})],1)],1)},n=[],r=a("c7eb"),s=a("1da1"),o=(a("b0c0"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("9861"),a("159b"),a("f4bb")),c=a("3852"),d=a("0885"),l=a("3b9b"),m=a("365c"),u={data:function(){return{layerHeader:"",total:"",formAdd:{name:"",model:"",vmRow:"",vmCol:"",channelMaxCapacity:"",imageUrl:""},rulesADD:{name:[{required:!0,message:"请输入"}],model:[{required:!0,message:"请输入"}],vmRow:[{required:!0,message:"请输入"}],vmCol:[{required:!0,message:"请输入"}],channelMaxCapacity:[{required:!0,message:"请输入"}],imageUrl:[{required:!0,message:"请上传"}]},table:[{prop:"name",label:"型号名称"},{prop:"model",label:"型号编码"},{prop:"image",label:"设备图片"},{prop:"vmRow",label:"货道行"},{prop:"vmCol",label:"货道列"},{prop:"channelMaxCapacity",label:"设备容量"}],tableData:[],number:1,index:1,ListItemInfo:[],ListId:0,dialogVisible1:!1,add:!1}},created:function(){var e=this;return Object(s["a"])(Object(r["a"])().mark((function t(){return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("equipment/getDeviceType");case 2:e.getList();case 3:case"end":return t.stop()}}),t)})))()},methods:{ModifyEquipment:function(){var e=this;setTimeout((function(){e.dialogVisible1=!0,e.layerHeader="修改设备类型",console.log(e.ListItemInfo),e.formAdd.name=e.ListItemInfo.name,e.formAdd.model=e.ListItemInfo.model,e.formAdd.vmRow=e.ListItemInfo.vmRow,e.formAdd.vmCol=e.ListItemInfo.vmCol,e.formAdd.channelMaxCapacity=e.ListItemInfo.channelMaxCapacity,e.formAdd.imageUrl=e.ListItemInfo.image}))},handleAvatarSuccess:function(e,t){this.formAdd.imageUrl=URL.createObjectURL(t.raw)},beforeAvatarUpload:function(e){console.log(e);var t="image/jpeg"===e.type,a=e.size/1024/1024<2;return t||this.$message.error("上传图片只能是 JPEG 格式!"),a||this.$message.error("上传图片大小不能超过 2M!"),t&&a},handleClose:function(e){e()},clickList:function(e){if(this.ListItemInfo=e,e.index<=10)this.ListId=e.index-1;else{if(e.index%10===0)return this.ListId=9;this.ListId=e.index%10-1}},getList:function(){var e=this;this.total=this.$store.state.equipment.DeviceType.totalCount,this.number=1;var t=[];this.$store.state.equipment.DeviceType.currentPageRecords.forEach((function(a){t.push({index:10*(e.index-1)+e.number,name:a.name,model:a.model,image:a.image,vmRow:a.vmRow,vmCol:a.vmCol,channelMaxCapacity:a.channelMaxCapacity}),e.number++})),this.tableData=t,console.log(this.tableData)},open:function(){var e=this;return Object(s["a"])(Object(r["a"])().mark((function t(){return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$notify({title:"提示",message:"演示系统，不支持此操作",type:"warning"});case 1:case"end":return t.stop()}}),t)})))()},addEquipment:function(){this.dialogVisible1=!0,this.add=!0,this.layerHeader="新增设备类型"},closeAdd:function(){this.dialogVisible1=!1,this.add=!1,this.$refs.formAdd.resetFields()},tureaddEquipment:function(){var e=this;return Object(s["a"])(Object(r["a"])().mark((function t(){var a;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.formAdd.validate();case 2:if(!e.add){t.next=11;break}return t.next=5,Object(m["i"])(e.formAdd);case 5:return e.$message.success("新增成功"),t.next=8,e.$store.dispatch("equipment/getDeviceType",e.index);case 8:e.getList(),t.next=18;break;case 11:return a=e.$store.state.equipment.DeviceType.currentPageRecords[e.ListId].typeId,t.next=14,Object(m["q"])(e.formAdd,a);case 14:return e.$message.success("修改成功"),t.next=17,e.$store.dispatch("equipment/getDeviceType",e.index);case 17:e.getList();case 18:e.dialogVisible1=!1,e.add=!1;case 20:case"end":return t.stop()}}),t)})))()},nextClick:function(){var e=this;return Object(s["a"])(Object(r["a"])().mark((function t(){return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.index++,t.next=3,e.$store.dispatch("equipment/getDeviceType",e.index);case 3:e.getList();case 4:case"end":return t.stop()}}),t)})))()},prevClick:function(){var e=this;return Object(s["a"])(Object(r["a"])().mark((function t(){return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.index--,t.next=3,e.$store.dispatch("equipment/getDeviceType",e.index);case 3:e.getList();case 4:case"end":return t.stop()}}),t)})))()},changeCount:function(e){var t=this;return Object(s["a"])(Object(r["a"])().mark((function a(){return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.index=e,a.next=3,t.$store.dispatch("equipment/getDeviceType",t.index);case 3:t.getList();case 4:case"end":return a.stop()}}),a)})))()},search:function(e){var t=this;return Object(s["a"])(Object(r["a"])().mark((function a(){return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$store.dispatch("equipment/getSearchDeviceType",e);case 2:t.getList();case 3:case"end":return a.stop()}}),a)})))()}},components:{mainSearch:o["a"],Paging:c["a"],List:d["a"],Add:l["a"]}},p=u,f=(a("a9c9"),a("2877")),h=Object(f["a"])(p,i,n,!1,null,"2733fd90",null);t["default"]=h.exports},a9c9:function(e,t,a){"use strict";a("826e")}}]);