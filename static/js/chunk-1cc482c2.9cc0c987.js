(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1cc482c2"],{"083a":function(e,t,a){"use strict";var r=a("0d51"),s=TypeError;e.exports=function(e,t){if(!delete e[t])throw s("Cannot delete property "+r(t)+" of "+r(e))}},"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},2482:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"btn",class:[e.color,e.hover],on:{click:function(t){return e.$emit("Add")}}},[e._t("default")],2)},s=[],n={props:{color:{type:String,default:"default"},hover:{type:String,default:"default"}},data:function(){return{}},created:function(){},methods:{}},i=n,o=(a("a678"),a("2877")),l=Object(o["a"])(i,r,s,!1,null,"55c93956",null);t["a"]=l.exports},"408a":function(e,t,a){var r=a("e330");e.exports=r(1..valueOf)},"61d2":function(e,t,a){"use strict";a("e7c6")},"841c":function(e,t,a){"use strict";var r=a("c65b"),s=a("d784"),n=a("825a"),i=a("1d80"),o=a("129f"),l=a("577e"),c=a("dc4a"),u=a("14c3");s("search",(function(e,t,a){return[function(t){var a=i(this),s=void 0==t?void 0:c(t,e);return s?r(s,t,a):new RegExp(t)[e](l(a))},function(e){var r=n(this),s=l(e),i=a(t,r,s);if(i.done)return i.value;var c=r.lastIndex;o(c,0)||(r.lastIndex=0);var m=u(r,s);return o(r.lastIndex,c)||(r.lastIndex=c),null===m?-1:m.index}]}))},a434:function(e,t,a){"use strict";var r=a("23e7"),s=a("7b0b"),n=a("23cb"),i=a("5926"),o=a("07fa"),l=a("3511"),c=a("65f0"),u=a("8418"),m=a("083a"),d=a("1dde"),f=d("splice"),p=Math.max,b=Math.min;r({target:"Array",proto:!0,forced:!f},{splice:function(e,t){var a,r,d,f,g,h,v=s(this),N=o(v),k=n(e,N),I=arguments.length;for(0===I?a=r=0:1===I?(a=0,r=N-k):(a=I-2,r=b(p(i(t),0),N-k)),l(N+a-r),d=c(v,r),f=0;f<r;f++)g=k+f,g in v&&u(d,f,v[g]);if(d.length=r,a<r){for(f=k;f<N-r;f++)g=f+r,h=f+a,g in v?v[h]=v[g]:m(v,h);for(f=N;f>N-r+a;f--)m(v,f-1)}else if(a>r)for(f=N-r;f>k;f--)g=f+r-1,h=f+a-1,g in v?v[h]=v[g]:m(v,h);for(f=0;f<a;f++)v[f+k]=arguments[f+2];return v.length=N-r+a,d}})},a678:function(e,t,a){"use strict";a("f9b4")},a9e3:function(e,t,a){"use strict";var r=a("83ab"),s=a("da84"),n=a("e330"),i=a("94ca"),o=a("cb2d"),l=a("1a2d"),c=a("7156"),u=a("3a9b"),m=a("d9b5"),d=a("c04e"),f=a("d039"),p=a("241c").f,b=a("06cf").f,g=a("9bf2").f,h=a("408a"),v=a("58a8").trim,N="Number",k=s[N],I=k.prototype,C=s.TypeError,x=n("".slice),w=n("".charCodeAt),j=function(e){var t=d(e,"number");return"bigint"==typeof t?t:y(t)},y=function(e){var t,a,r,s,n,i,o,l,c=d(e,"number");if(m(c))throw C("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2)if(c=v(c),t=w(c,0),43===t||45===t){if(a=w(c,2),88===a||120===a)return NaN}else if(48===t){switch(w(c,1)){case 66:case 98:r=2,s=49;break;case 79:case 111:r=8,s=55;break;default:return+c}for(n=x(c,2),i=n.length,o=0;o<i;o++)if(l=w(n,o),l<48||l>s)return NaN;return parseInt(n,r)}return+c};if(i(N,!k(" 0o1")||!k("0b1")||k("+0x1"))){for(var O,E=function(e){var t=arguments.length<1?0:k(j(e)),a=this;return u(I,a)&&f((function(){h(a)}))?c(Object(t),a,E):t},$=r?p(k):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),A=0;$.length>A;A++)l(k,O=$[A])&&!l(E,O)&&g(E,O,b(k,O));E.prototype=I,I.constructor=E,o(s,N,E,{constructor:!0})}},b270:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticClass:"Top-box-card",attrs:{shadow:"never"}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px"}},[a("el-form-item",{staticClass:"TypeSearch",attrs:{label:"商品搜索："}},[a("el-input",{staticClass:"isInput",attrs:{placeholder:"请输入"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}}),a("Button",{staticClass:"btn",on:{Submit:e.submit}},[a("i",{staticClass:"el-icon-search"}),e._v(" 查询")])],1)],1)],1),a("el-card",{staticClass:"main",attrs:{shadow:"never"}},[a("div",{staticClass:"button"},[a("Addbutton",{attrs:{color:"orange",hover:"orange:hover"},on:{Add:e.Add}},[a("i",{staticClass:"el-icon-circle-plus-outline"}),e._v(" 新建")]),a("Button",{staticClass:"Data",attrs:{fonsColor:"black",hover:"black:hover"}},[e._v("导入数据")])],1),a("Table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{tableData:e.tableData,table:e.table,isWidth:150,isImage:!0,isDelete:!1,pageIndex:e.pageIndex},on:{edit:e.edit}}),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"hide-on-single-page":"","current-page":e.currentPage1,"page-size":10,layout:"total, prev, pager, next",total:e.totalCount},on:{"update:currentPage":function(t){e.currentPage1=t},"update:current-page":function(t){e.currentPage1=t},"next-click":e.nextData,"prev-click":e.prevClick,"current-change":e.handleCurrentChange}})],1)],1),a("CommodityManagement",{attrs:{isShow:e.MessageShow,title:"新增商品",EditList:e.EditList},on:{cancel:e.cancel,NewList:e.NewList}}),a("el-dialog",{attrs:{title:"修改商品信息",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"form",staticClass:"form-control",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"商品名称：",prop:"skuName"}},[a("el-input",{attrs:{placeholder:"请输入",maxlength:"15","show-word-limit":""},model:{value:e.form.skuName,callback:function(t){e.$set(e.form,"skuName",t)},expression:"form.skuName"}})],1),a("el-form-item",{attrs:{label:"品牌：",prop:"brandName"}},[a("el-input",{attrs:{placeholder:"请输入",maxlength:"10","show-word-limit":""},model:{value:e.form.brandName,callback:function(t){e.$set(e.form,"brandName",t)},expression:"form.brandName"}})],1),a("el-form-item",{attrs:{label:"商品价格(元)：",prop:"price"}},[a("el-input",{staticClass:"price",attrs:{placeholder:"请输入",type:"number"},model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",t)},expression:"form.price"}})],1),a("el-form-item",{attrs:{label:"商品类型：",prop:"className"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.className,callback:function(t){e.$set(e.form,"className",t)},expression:"form.className"}},e._l(this.$store.state.commodityType.ClassName,(function(e){return a("el-option",{key:e.classId,attrs:{label:e.className,value:e.classId}})})),1)],1),a("el-form-item",{attrs:{label:"规格：",prop:"unit"}},[a("el-input",{attrs:{placeholder:"请输入",maxlength:"10","show-word-limit":""},model:{value:e.form.unit,callback:function(t){e.$set(e.form,"unit",t)},expression:"form.unit"}})],1),a("el-form-item",{attrs:{label:"商品图片：",prop:"skuImage"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1),a("p",{staticClass:"Tips"},[e._v("支持拓展名：jpg、png，文件不得大于100kb")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.onSave}},[e._v("确 定")])],1)],1)],1)},s=[],n=a("c7eb"),i=a("1da1"),o=a("ade3"),l=(a("d3b7"),a("159b"),a("b0c0"),a("ac1f"),a("841c"),a("a434"),a("3ca3"),a("ddb0"),a("2b3d"),a("9861"),a("df49")),c=a("1476"),u=a("2482"),m=a("4995"),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"新建商品信息",visible:e.isShow,width:"30%",showClose:!1},on:{"update:visible":function(t){e.isShow=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"商品名称：",prop:"skuName"}},[a("el-input",{attrs:{placeholder:"请输入",maxlength:"15","show-word-limit":""},model:{value:e.form.skuName,callback:function(t){e.$set(e.form,"skuName",t)},expression:"form.skuName"}})],1),a("el-form-item",{attrs:{label:"品牌：",prop:"brandName"}},[a("el-input",{attrs:{placeholder:"请输入",maxlength:"10","show-word-limit":""},model:{value:e.form.brandName,callback:function(t){e.$set(e.form,"brandName",t)},expression:"form.brandName"}})],1),a("el-form-item",{attrs:{label:"商品价格(元)：",prop:"price"}},[a("el-input",{staticClass:"price",attrs:{placeholder:"请输入",type:"number"},model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",t)},expression:"form.price"}})],1),a("el-form-item",{attrs:{label:"商品类型：",prop:"className"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.className,callback:function(t){e.$set(e.form,"className",t)},expression:"form.className"}},e._l(this.$store.state.commodityType.ClassName,(function(e){return a("el-option",{key:e.classId,attrs:{label:e.className,value:e.className}})})),1)],1),a("el-form-item",{attrs:{label:"规格：",prop:"unit"}},[a("el-input",{attrs:{placeholder:"请输入",maxlength:"10","show-word-limit":""},model:{value:e.form.unit,callback:function(t){e.$set(e.form,"unit",t)},expression:"form.unit"}})],1),a("el-form-item",{attrs:{label:"商品图片：",prop:"skuImage"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1),a("p",{staticClass:"Tips"},[e._v("支持拓展名：jpg、png，文件不得大于100kb")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){return e.$emit("cancel")}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.onSave}},[e._v("确 定")])],1)],1)},f=[],p=(a("4de4"),{props:{isShow:{type:Boolean,default:!1},EditList:{type:Object,default:function(){}}},data:function(){return{dialogVisible:!1,form:{skuName:"",brandName:"",price:"",className:"",unit:""},imageUrl:"",skuImage:"",rules:{skuName:[{required:!0,message:"请输入商品名称",target:blur}],brandName:[{required:!0,message:"请输入品牌",target:blur}],price:[{required:!0,message:"请输入商品价格",target:"change"},{pattern:/(?:^[1-9]([0-9]+)?(?:\.[0-9]{1,2})?$)|(?:^(?:0)$)|(?:^[0-9]\.[0-9](?:[0-9])?$)/,message:"不能为负数"}],className:[{required:!0,message:"请输入商品类型",target:blur}],unit:[{required:!0,message:"请输入规格",target:blur}],skuImage:[{required:!0,message:"请插入图片",target:blur}]}}},created:function(){},computed:{},methods:{getAddComm:function(){var e=this;return Object(i["a"])(Object(n["a"])().mark((function t(){var a,r,s;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.$store.state.commodityType.ClassName,console.log(a),console.log(e.form.className),r=a.filter((function(t){return t.className==e.form.className})),t.next=6,Object(l["a"])({skuName:e.form.skuName,skuImage:e.skuImage,price:e.form.price,classId:r[0].classId,unit:e.form.unit,brandName:e.form.brandName});case 6:s=t.sent,console.log(s),!0===s.data?e.$message.success("新增成功"):e.$message.error("新增失败"),e.$emit("cancel"),e.$emit("NewList"),e.$refs.form.resetFields(),e.form={skuName:"",brandName:"",price:"",className:"",unit:""},e.imageUrl="";case 14:case"end":return t.stop()}}),t)})))()},onSave:function(){this.$refs.form.validate(),this.skuImage=this.imageUrl,this.getAddComm()},handleAvatarSuccess:function(e,t){this.imageUrl=URL.createObjectURL(t.raw)},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type,a=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),a||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&a}}}),b=p,g=(a("bdc4"),a("2877")),h=Object(g["a"])(b,d,f,!1,null,"d0bb7d7e",null),v=h.exports,N=a("5a0c"),k=a.n(N),I={data:function(){var e;return e={form:{name:""},index:0,tableData:[],search:"",table:[{prop:"skuName",label:"商品名称"},{prop:"brandName",label:"品牌"},{prop:"skuImage",label:"商品图片"},{prop:"unit",label:"规格"},{prop:"price",label:"商品价格"},{prop:"className",label:"商品类型"},{prop:"createTime",label:"创建时间"}],pageIndex:0,totalCount:0,pageSize:10,totalPage:0,currentPage1:1,MessageShow:!1,className:[],loading:!1,EditList:{},dialogVisible:!1},Object(o["a"])(e,"form",{skuName:"",brandName:"",price:"",className:"",unit:""}),Object(o["a"])(e,"imageUrl",""),Object(o["a"])(e,"skuImage",""),Object(o["a"])(e,"skuId",""),Object(o["a"])(e,"classId",""),Object(o["a"])(e,"rules",{skuName:[{required:!0,message:"请输入商品名称",target:blur}],brandName:[{required:!0,message:"请输入品牌",target:blur}],price:[{required:!0,message:"请输入商品价格",target:blur}],className:[{required:!0,message:"请输入商品类型",target:blur}],unit:[{required:!0,message:"请输入规格",target:blur}],skuImage:[{required:!0,message:"请插入图片",target:blur}]}),e},components:{Button:c["a"],Addbutton:u["a"],Table:m["a"],CommodityManagement:v},created:function(){this.getAllCommodity(),this.getCommodityList()},methods:{edit:function(e){this.EditList=e,this.form={skuName:this.EditList.skuName,brandName:this.EditList.brandName,price:this.EditList.price,className:this.EditList.className,unit:this.EditList.unit},this.imageUrl=this.EditList.skuImage,this.skuId=this.EditList.skuId,this.classId=this.EditList.classId,this.dialogVisible=!0,console.log("EditList",this.EditList)},handleCurrentChange:function(e){console.log(e),this.pageIndex=e,this.getAllCommodity()},NewList:function(){this.getAllCommodity()},getCommodityList:function(){var e=this;return Object(i["a"])(Object(n["a"])().mark((function t(){var a,r;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,Object(l["d"])();case 3:a=t.sent,e.loading=!1,r=a.data.currentPageRecords,r.forEach((function(t){e.className.push({className:t.className,classId:t.classId})})),e.$store.dispatch("commodityType/getClassName",e.className);case 8:case"end":return t.stop()}}),t)})))()},cancel:function(){this.MessageShow=!1},Add:function(){this.MessageShow=!0},prevClick:function(){this.pageIndex--,this.getAllCommodity()},nextData:function(){this.pageIndex++,this.getAllCommodity()},submit:function(){var e=this;return Object(i["a"])(Object(n["a"])().mark((function t(){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$refs.form.validate(),console.log(e.form.name),e.search=e.form.name,e.getAllCommodity();case 4:case"end":return t.stop()}}),t)})))()},getAllCommodity:function(){var e=this;return Object(i["a"])(Object(n["a"])().mark((function t(){var a,r;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return 0===e.pageIndex?e.pageIndex=1:e.pageIndex,e.tableData=[],t.next=4,Object(l["c"])({pageIndex:e.pageIndex,pageSize:10,skuName:e.search});case 4:a=t.sent,console.log(a),e.totalPage=a.data.totalPage,e.totalCount=parseInt(a.data.totalCount),r=a.data.currentPageRecords,r.forEach((function(t){var a=k()(t.createTime).format("YYYY-MM-DD hh:mm:ss");e.tableData.push({index:e.index+1,skuName:t.skuName,skuImage:t.skuImage,brandName:t.brandName,unit:t.unit,price:t.price,className:t.skuClass.className,createTime:a,skuId:t.skuId,classId:t.skuClass.classId})})),e.tableData.length>10&&e.tableData.splice(5,10);case 11:case"end":return t.stop()}}),t)})))()},getEditComm:function(){var e=this;return Object(i["a"])(Object(n["a"])().mark((function t(){var a;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(l["g"])(Object(o["a"])({skuId:e.skuId,skuName:e.form.skuName,skuImage:e.imageUrl,price:e.form.price,classId:e.classId,unit:e.form.unit,brandName:e.form.brandName},"skuId",e.skuId));case 2:a=t.sent,console.log(a),!0===a.data?e.$message.success("修改成功"):e.$message.error("修改失败"),e.dialogVisible=!1,e.getAllCommodity();case 7:case"end":return t.stop()}}),t)})))()},onSave:function(){this.getEditComm()},handleAvatarSuccess:function(e,t){this.imageUrl=URL.createObjectURL(t.raw)},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type,a=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),a||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&a}}},C=I,x=(a("61d2"),Object(g["a"])(C,r,s,!1,null,"4a532594",null));t["default"]=x.exports},bdc4:function(e,t,a){"use strict";a("ee05")},df49:function(e,t,a){"use strict";a.d(t,"d",(function(){return s})),a.d(t,"e",(function(){return n})),a.d(t,"b",(function(){return i})),a.d(t,"h",(function(){return o})),a.d(t,"f",(function(){return l})),a.d(t,"c",(function(){return c})),a.d(t,"a",(function(){return u})),a.d(t,"g",(function(){return m}));var r=a("b775");function s(e){return Object(r["a"])({url:"/vm-service/skuClass/search",params:e})}function n(e){return Object(r["a"])({url:"/vm-service/skuClass/search",params:e})}function i(e){return Object(r["a"])({url:"/vm-service/skuClass",method:"POST",data:e})}function o(e,t){return Object(r["a"])({url:"/vm-service/skuClass/".concat(e),method:"PUT",data:{className:t}})}function l(e){return Object(r["a"])({url:"/vm-service/skuClass/".concat(e),method:"DELETE"})}function c(e){return Object(r["a"])({url:"vm-service/sku/search",params:e})}function u(e){return Object(r["a"])({url:"/vm-service/sku",method:"POST",data:e})}function m(e){return Object(r["a"])({url:"/vm-service/sku/"+e.skuId,method:"PUT",data:e})}},e7c6:function(e,t,a){},ee05:function(e,t,a){},f9b4:function(e,t,a){}}]);